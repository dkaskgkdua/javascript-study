# 주석(comment)

코드 구조에서 알아본 바와 같이 한 줄짜리 주석은 // 로, 여러 줄의 주석은 /# ... */ 로 시작한다. 

주석은 어떻게 코드가 동작하는지, 왜 코드가 동작하는지를 설명할 때 쓰인다.

작성하기 쉬워보여도 좋은 주석과 좋지 않은 주석으로 구분할 수 있기때문에 초보 개발자들은 작성에 유의할 필요가 있다.

## 좋지 않은 주석

초보자들이 주석을 달 때 하는 실수는 '코드에서 무슨 일이 있어났는지' 를 적는것이다.

```java
// 이 코드는 (...)과 (...)을 수행합니다
// A라는 개발자가 이 기능에 대해 알고 있으며...
very;
complex;
code;
```

하지만, 좋은 코드엔 '설명'이 담긴 주석이 많아선 안 된다. 주석 없이 코드 자체만으로 코드가 무슨 일을 하는지 쉽게 알 수 있어야 한다.

이와 관련되어서, 만약 코드가 불문명해서 주석 작성이 불가피하다면 '코드를 다시 작성해야 한다'는 좋은 규칙도 있다.

### 리팩토링 팁: 함수 분리하기

함수 내 코드 일부를 새로운 함수로 옮기는 것이 유익할 떄도 있다.

```java
function showPrimes(n) {
  nextPrime:
  for (let i = 2; i < n; i++) {

    // i가 소수인지를 확인함
    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    alert(i);
  }
}
```

여기서 코드 일부를 함수 `isprime`으로 옮기면 더 나은 코드를 작성할 수 있다.

```java
function showPrimes(n) {

  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;

    alert(i);
  }
}

function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if (n % i == 0) return false;
  }

  return true;
}
```

이렇게 하면 함수 이름 자체가 주석 역할을 하게되므로 코드를 이해하기가 쉬워진다. 

이러한 코드를 `자기 설명적인(self-descriptive)` 코드라고 부른다.

### 리팩토링 팁: 함수 만들기

아래와 같이 코드가 '아래로 죽 늘어진' 경우를 생각해보자.

```java
// 위스키를 더해줌
for(let i = 0; i < 10; i++) {
  let drop = getWhiskey();
  smell(drop);
  add(drop, glass);
}

// 주스를 더해줌
for(let t = 0; t < 3; t++) {
  let tomato = getTomato();
  examine(tomato);
  let juice = press(tomato);
  add(juice, glass);
}

// ...
```

이럴 땐 새로운 함수를 만들고, 코드 일부를 새로 만든 함수에 옮기는 것이 좋다. 

```java
addWhiskey(glass);
addJuice(glass);

function addWhiskey(container) {
  for(let i = 0; i < 10; i++) {
    let drop = getWhiskey();
    //...
  }
}

function addJuice(container) {
  for(let t = 0; t < 3; t++) {
    let tomato = getTomato();
    //...
  }
}
```

함수는 주석이 없어도 그 자체로도 무슨 역할을 하는지 설명할 수 있어야한다. 이렇게 코드를 분리해 작성하면 더 나은 코드 구조가 된다.

이런 가이드를 잘 지켜 코드를 작성하면 함수가 어떤 동작을 하는지, 무엇을 받고 무엇을 반환하는지가 명확해진다.

하지만 실무에선 '설명이 담긴 주석' 을 작성하는게 불가피한 경우가 있다.

알고리즘이 복잡한 코드나 최적화를 위해 코드를 약간 꼬아서 작성할 경우를 제외하곤 코드 자체만으로 어떤 동작을 하는지 알 수 있게 코딩해야 나쁜 주석을 피할 수 있다.

## 좋은 주석

설명이 담긴 주석이 대게 좋지 않다면 좋은 주석이란 무엇일까?

### 아키텍처를 설명하는 주석

고차원 수준 컴포넌트 개요, 컴포넌트 간 상호작용에 대한 설명, 상황에 따른 제어 흐름 등은 주석에 넣는 것이 좋다.

이러한 주석은 조감도 역할을 해주기 때문이다. 고차원 수준의 아키텍처 다이어그램을 그리는 데 쓰는 언어인 `UML`도 시간을 내어 공부해 보는 것을 추천한다.

### 함수 용례와 매개변수 정보를 담고 있는 주석

`JSDoc` 이라는 특별한 문법을 사용해 함수에 관한 문서를 쉽게 작성할 수 있다. 

여기엔 함수 용례, 매개변수, 반환 값 정보가 들어간다.

```java
/*
  @param {number} x 거듭제곱할 숫자
  @param {number} n 곱할 횟수, 반드시 자연수여야 함
  @return {number} x의 n 거듭제곱을 반환함
*/

function pow(x, n) {

}
```

이렇게 주석을 달면 코드를 읽어보지 않고도 함수의 목적과 사용법을 한눈에 알 수 있다.

`webStorm` 등의 다양한 에디터는 이런 주석을 이용해 자동 완선 기능, 자동 에러 검출 기능 등을 제공한다.



